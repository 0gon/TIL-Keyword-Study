# TIL - HTTP 프로토콜

## 📅 날짜
[2024-11-27]

---

## 📌 학습 키워드
- [HTTP/1.1]
- [HTTP/2]
- [HTTP/3]

---

## 📖 오늘 배운 내용

> **설명**: HTTP/3 는 HTTP 프로토콜의 세 번째 주요 버전이다.
- **핵심 내용**:
### HTTP/1.1, HTTP/2, HTTP/3의 비교

| **특징**         | **HTTP/1.1**                         | **HTTP/2**                                    | **HTTP/3**                         |
|-------------------|--------------------------------------|----------------------------------------------|-------------------------------------|
| **전송 계층**     | TCP                                  | TCP                                          | UDP (QUIC 기반)                    |
| **멀티플렉싱**    | 지원 안 함                           | 지원하지만 HOLB 문제 있음                    | 완벽한 멀티플렉싱 지원              |
| **압축**         | 지원 안 함                           | 헤더 압축(HPACK)                             | 개선된 헤더 압축(QPACK)             |
| **연결 설정**     | TCP 3-way handshake 필요             | TCP 3-way handshake 필요, TLS 별도 설정      | QUIC 1-RTT 또는 0-RTT (더 빠름)     |
| **성능 최적화**   | Keep-Alive로 연결 유지              | 단일 연결에서 다중 요청 처리                 | 패킷 손실에 덜 민감하고 재연결 빠름 |
| **HOLB 문제**     | 심각                                 | 스트림 수준에서 문제 발생 가능               | 해결                                |

-
    1. UDP 기반 QUIC 프로토콜을 사용한다.
       1. TCP 대신 UDP를 사용하여 패킷 손실이 발생해도 빠르게 복구할 수 있다.
       2. TCP의 연결 설정 과정 ( 3-way handshake )을 제거하여 속도가 빠르다.
       3. HTTP/2 의 HOLB ( Head-of-Line Blocking ) 문제를 해결했다.
    2. 연결 설정 및 보안 통합
       1. TLS 1.3이 QUIC에 내장되어 있어 추가 보안 설정 과정이 필요없다.
       2. 연결 설정 과정에서 동시에 암호화된 데이터를 송수신 가능하다.
    3. 멀티플렉싱 개선
       1. HTTP/2 에서도 멀티플렉싱이 지원되었지만, 한 스트림에서 패킷 손실이 발생하면 전체 스트림에 영향을 주는 문제가 있었다.
       2. HTTP/3 는 스트림 간 독립적으로 동작하므로 더 효율적이다.
    4. 빠른 재연결
       1. 연결 식별자 ( Connection ID )를 사용하여 클라이언트와 서버 간의 연결을 유지한다.
       2. 네트워크 환경이 바뀌는 상황 ( WI-FI -> LTE ) 에서도 연결을 끊지 않고 지속 가능하다.

---

- **추가 내용**:
    1. HTTP/1.1
       1. 톰캣의 기본 HTTP 프로토콜이다. 
    2. HTTP/2 
       1. 톰캣 8.5 이상에서는 HTTP/2를 지원한다.
    3. HTTP/3
       1. 톰캣은 현재 HTTP/3 를 기본적으로 지원하지 않는다. HTTP/3는 UDP기반 QUIC 프로토콜을 필요로 하기 떄문이다.
       2. HTTP/3를 사용하려면 HTTP/3를 지원하는 프록시 서버 ( NginX ) 를 사용해야 한다.
       3. NginX 에서 사용할려면 HTTP/3와 QUIC를 활성화 하고 HTTP/1.1 또는 HTTP/2를 통해 톰캣과 통신한다.

--- 

- **사용하는곳**:
    1. 실시간 애플리케이션 (게임, 채팅, 스트리밍 사이트)
    2. 모바일 환경 ( 네트워크 변경이 잦은 환경에서 지속으로 연결해야하는 경우 )
  3.  전송 속도와 대기 시간을 줄이고 싶은 경우 ( 웹 사이트나 API 응답 시간을 크게 개선 가능 )